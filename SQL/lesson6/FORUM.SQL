CREATE TABLE FORUM_CATEGORIES
(
ID NUMBER,
CONSTRAINT FORUM_CATEGORY_ID PRIMARY KEY(ID),
TITLE NVARCHAR2(64),
DESCRIPTION CLOB,
FORUM_DATE TIMESTAMP,
IP NVARCHAR2 (20)
);

CREATE TABLE FORUM_SUBCATEGORIES
(
ID NUMBER,
CONSTRAINT FORUM_SUBCATEGORY_ID PRIMARY KEY(ID),
ID_CATEGORY NUMBER,
CONSTRAINT FORUM_CATEGORY_FK FOREIGN KEY(ID_CATEGORY) REFERENCES FORUM_CATEGORIES(ID),
TITLE NVARCHAR2(45),
DESCRIPTION CLOB,
FORUM_DATE TIMESTAMP,
IP NVARCHAR2 (20)
);

CREATE TABLE USERS
(
ID NUMBER,
CONSTRAINT USER_ID PRIMARY KEY(ID),
NICK NVARCHAR2(16),
PASSWORD NVARCHAR2(128),
EMAIL NVARCHAR2(128),
USER_DATE TIMESTAMP,
KARMA DECIMAL(9,2),
IP NVARCHAR2 (20)
);

CREATE TABLE FORUM_POSTS
(
ID NUMBER,
CONSTRAINT FORUM_POST_ID PRIMARY KEY(ID),
SUBCATEGORY_ID NUMBER,
CONSTRAINT SUBCATEGORY_FK FOREIGN KEY(SUBCATEGORY_ID) REFERENCES FORUM_SUBCATEGORIES(ID),
USER_ID NUMBER,
CONSTRAINT USER_FK FOREIGN KEY(USER_ID) REFERENCES USERS(ID),
PARENT_POST NUMBER,
CONSTRAINT PARENT_POST_FK FOREIGN KEY (PARENT_POST) REFERENCES FORUM_POSTS(ID),
TITLE NVARCHAR2(90),
CONTENT CLOB,
IS_POOL BOOLEAN,
POST_DATE TIMESTAMP,
IP NVARCHAR2 (20)
);

CREATE TABLE FORUMS_POOL_OPTIONS(
ID NUMBER,
CONSTRAINT FORUMS_POOL_OPTION_ID PRIMARY KEY(ID),
POST_ID NUMBER,
CONSTRAINT POST_FK FOREIGN KEY (POST_ID) REFERENCES FORUM_POSTS(ID)
TITLE NVARCHAR2(64),
POOLS_OPTIONS_DATE TIMESTAMP
);

CREATE TABLE FORUMS_POOL_OPTIONS_VOTES
(
ID NUMBER,
CONSTRAINT FORUMS_POOL_OPTIONS_VOTES_ID PRIMARY KEY(ID),
POOL_OPTION_ID NUMBER,
CONSTRAINT POOL_OPTION_FK FOREIGN KEY(POOL_OPTION_ID) REFERENCES FORUMS_POOL_OPTIONS(ID),
USER_ID NUMBER,
CONSTRAINT USER_FK FOREIGN KEY(USER_ID) REFERENCES USERS(ID),
POOLS_OPTIONS_VOTES_DATE TIMESTAMP,
IP NVARCHAR2 (20)
);